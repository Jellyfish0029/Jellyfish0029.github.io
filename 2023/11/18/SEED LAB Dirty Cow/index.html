<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>SEED LAB Dirty Cow | Xjelly's Blog</title><meta name="author" content="xjelly"><meta name="copyright" content="xjelly"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="Dirty Cow Attack Lab.记录实验过程。">
<meta property="og:type" content="article">
<meta property="og:title" content="SEED LAB Dirty Cow">
<meta property="og:url" content="https://jellyfish0029.github.io/2023/11/18/SEED%20LAB%20Dirty%20Cow/index.html">
<meta property="og:site_name" content="Xjelly&#39;s Blog">
<meta property="og:description" content="Dirty Cow Attack Lab.记录实验过程。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://jellyfish0029.github.io/images_config/index_img.jpg">
<meta property="article:published_time" content="2023-11-18T07:16:24.976Z">
<meta property="article:modified_time" content="2024-03-28T02:54:25.140Z">
<meta property="article:author" content="xjelly">
<meta property="article:tag" content="SEED Lab">
<meta property="article:tag" content="Software Security 软件安全">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://jellyfish0029.github.io/images_config/index_img.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://jellyfish0029.github.io/2023/11/18/SEED%20LAB%20Dirty%20Cow/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'SEED LAB Dirty Cow',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-03-28 10:54:25'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/images_config/index_img.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">13</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/ramblings/"><i class="fa-fw fas fa-pencil"></i><span> 随笔</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fas fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/images_config/ar2.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Xjelly's Blog"><span class="site-name">Xjelly's Blog</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/ramblings/"><i class="fa-fw fas fa-pencil"></i><span> 随笔</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fas fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">SEED LAB Dirty Cow</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-11-18T07:16:24.976Z" title="发表于 2023-11-18 15:16:24">2023-11-18</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-03-28T02:54:25.140Z" title="更新于 2024-03-28 10:54:25">2024-03-28</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Software-Security-%E8%BD%AF%E4%BB%B6%E5%AE%89%E5%85%A8/">Software Security 软件安全</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="SEED LAB Dirty Cow"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="TASK-1-Modify-a-Dummy-Read-Only-File"><strong>TASK 1</strong>  <strong>Modify a Dummy Read-Only File</strong></h2>
<p>任务要求：利用Dirty Cow 写一个只读文件</p>
<h3 id="2-1-Create-a-Dummy-File"><strong>2.1 Create a Dummy File</strong></h3>
<p>在root文件夹中添加一个文件名为zzz,修改权限使它对其他用户只读，写入1111122223333</p>
<p><img src="https://xjelly-img-1318706121.cos.ap-beijing.myqcloud.com/content_img/image-20231118152914379.png" alt="image-20231118152914379"></p>
<p>当其他用户试图写入文件时，因权限不够而失败</p>
<p><img src="https://xjelly-img-1318706121.cos.ap-beijing.myqcloud.com/content_img/image-20231118153430694.png" alt="image-20231118153430694"></p>
<p>目标：通过Dirty Cow把”2222222“改为”*******************“</p>
<p><img src="https://xjelly-img-1318706121.cos.ap-beijing.myqcloud.com/content_img/image-20231118153627419.png" alt="image-20231118153627419"></p>
<h3 id="2-2-Set-Up-the-Memory-Mapping-Thread"><strong>2.2 Set Up the Memory Mapping Thread</strong></h3>
<p>在cow_attack.c文件中，使用MAP_PRIVATE，文件将映射到调用进程私有的内存空间。当进程试图写入文件时，内核会分配一块新的物理内存作为私有拷贝，映射的虚拟内存指向这块私有拷贝，之后的读取和写入操作都在这块私有拷贝中进行，对底层文件没有任何影响。</p>
<p><img src="https://xjelly-img-1318706121.cos.ap-beijing.myqcloud.com/content_img/image-20231118153944673.png" alt="image-20231118153944673"></p>
<p>为了写入底层文件，新建了两个线程madviseThread、writeThread。</p>
<h3 id="2-3-Set-Up-the-write-Thread"><strong>2.3 Set Up the</strong> <strong>write</strong> <strong>Thread</strong></h3>
<p>写线程只负责写入”*******************“。其中offset是文件的偏移量，指出开始改写的位置，在这个样例中是main中传入的char * position，是通过字符串匹配找到的&quot;2222222&quot;的开始位置。</p>
<p><code>int f=open(&quot;/proc/self/mem&quot;, O_RDWR);</code>：</p>
<p>这行代码打开了一个特殊的文件<code>/proc/self/mem</code>，它是Linux系统中的一个虚拟文件，用于访问当前进程的内存。该文件以读写模式打开，并返回一个文件描述符<code>f</code>。</p>
<p><code>lseek(f, offset, SEEK_SET);</code>：</p>
<p>这行代码使用<code>lseek</code>函数将文件指针<code>f</code>移动到偏移量为<code>offset</code>的位置。<code>SEEK_SET</code>表示从文件的开头开始计算偏移量。</p>
<p>然后使用write将字符串写入文件。</p>
<p><img src="https://xjelly-img-1318706121.cos.ap-beijing.myqcloud.com/content_img/image-20231118155156850.png" alt="image-20231118155156850"></p>
<h3 id="2-4-The-madvise-Thread"><strong>2.4 The</strong> <strong>madvise</strong> <strong>Thread</strong></h3>
<p>madvise线程负责改变内存映射，抛弃映射内存的私有拷贝，让页表指回最初映射的内存。其中arg是在main中传入的参数(void *)file_size,是文件/zzz的大小。</p>
<p><img src="https://xjelly-img-1318706121.cos.ap-beijing.myqcloud.com/content_img/image-20231118155800834.png" alt="image-20231118155800834"></p>
<h3 id="2-5-Launch-the-Attack"><strong>2.5 Launch the Attack</strong></h3>
<blockquote>
<p>The only way for the attack to succeed is to perform the madvise() system call while the write() system call is still running. We cannot always achieve that, so we need to try many times.</p>
</blockquote>
<p>如果write()和madvise()交替执行，会出现两种情况：先写入私有拷贝再指回最初映射的内存，或者先指回最初映射的内存再写（再次触发COW），这样写操作一直都在私有拷贝上进行，是不能攻击成功的。攻击成功的情况是当write()正在执行时，madvise()也执行，即当write触发COW后，页表指向私有拷贝，尚未写入时，madvise()修改页表使其指回最初映射的内存，再由write()写入。</p>
<p>write()和madvise()的执行顺序取决于线程的调用顺序，所以需要多次尝试。运行a.out后，按下ctrl c停止，再查看/zzz，发现已经成功修改了/zzz。攻击成功！</p>
<p><img src="https://xjelly-img-1318706121.cos.ap-beijing.myqcloud.com/content_img/image-20231118161135151.png" alt="image-20231118161135151"></p>
<p><img src="https://xjelly-img-1318706121.cos.ap-beijing.myqcloud.com/content_img/image-20231118161231088.png" alt="image-20231118161231088"></p>
<h2 id="Task-2-Modify-the-Password-File-to-Gain-the-Root-Privilege"><strong>Task 2: Modify the Password File to Gain the Root Privilege</strong></h2>
<p>任务要求：把/etc/passwd中某一用户（以charlie为例）的UID改为0.</p>
<p>/etc/passwd对所有用户可读，但是只对root可写。这个文件记录了每个用户的信息，其中第三列是用户的UID。当UID=0时，用户具有root权限。</p>
<p><img src="https://xjelly-img-1318706121.cos.ap-beijing.myqcloud.com/content_img/image-20231118162107654.png" alt="image-20231118162107654"></p>
<p><img src="https://xjelly-img-1318706121.cos.ap-beijing.myqcloud.com/content_img/image-20231118162001170.png" alt="image-20231118162001170"></p>
<p>可以看到charlie的UID为1001.</p>
<p><img src="https://xjelly-img-1318706121.cos.ap-beijing.myqcloud.com/content_img/image-20231118162535267.png" alt="image-20231118162535267"></p>
<p>在cow_attack.c文件中修改以下内容：</p>
<p>通过字符串匹配找到charlie的UID：</p>
<p><img src="https://xjelly-img-1318706121.cos.ap-beijing.myqcloud.com/content_img/image-20231118163319183.png" alt="image-20231118163319183"></p>
<p>修改写入内容：</p>
<p><img src="https://xjelly-img-1318706121.cos.ap-beijing.myqcloud.com/content_img/image-20231118163357737.png" alt="image-20231118163357737"></p>
<p>编译并执行文件后，切换到charlie账号，发现已经是root权限的了。</p>
<p><img src="https://xjelly-img-1318706121.cos.ap-beijing.myqcloud.com/content_img/image-20231118163147373.png" alt="image-20231118163147373"></p>
<p>查看/etc/passwd，改动后的记录如下：改变了charlie的UID、GID和备注信息。备注信息的修改没有影响，关键是修改UID提权。为了不修改其他字段，可以注意一下content字符串长度。</p>
<p><img src="https://xjelly-img-1318706121.cos.ap-beijing.myqcloud.com/content_img/image-20231118163206561.png" alt="image-20231118163206561"></p>
<p>攻击成功！</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://Jellyfish0029.github.io">xjelly</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://jellyfish0029.github.io/2023/11/18/SEED%20LAB%20Dirty%20Cow/">https://jellyfish0029.github.io/2023/11/18/SEED%20LAB%20Dirty%20Cow/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://Jellyfish0029.github.io" target="_blank">Xjelly's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/SEED-Lab/">SEED Lab</a><a class="post-meta__tags" href="/tags/Software-Security-%E8%BD%AF%E4%BB%B6%E5%AE%89%E5%85%A8/">Software Security 软件安全</a></div><div class="post_share"><div class="social-share" data-image="/images_config/index_img.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞助</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.png" target="_blank"><img class="post-qr-code-img" src="/img/wechat.png" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/img/alipay.png" target="_blank"><img class="post-qr-code-img" src="/img/alipay.png" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/11/21/SEED%20LAB%20Format%20String/" title="SEED LAB Format String"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">SEED LAB Format String</div></div></a></div><div class="next-post pull-right"><a href="/2023/11/09/SEED%20LAB%20Buffer%20overflow/" title="SEED LAB Buffer Overflow(Set-UID)"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">SEED LAB Buffer Overflow(Set-UID)</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/11/21/SEED%20LAB%20Format%20String/" title="SEED LAB Format String"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-21</div><div class="title">SEED LAB Format String</div></div></a></div><div><a href="/2023/11/09/SEED%20LAB%20Buffer%20overflow/" title="SEED LAB Buffer Overflow(Set-UID)"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-09</div><div class="title">SEED LAB Buffer Overflow(Set-UID)</div></div></a></div><div><a href="/2023/11/09/SEED%20LAB%20Shellshock/" title="SEED LAB Shellshock"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-11-09</div><div class="title">SEED LAB Shellshock</div></div></a></div><div><a href="/2023/12/07/setup_of_syzkaller/" title="Set up Syzkaller (记录安装过程)"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-12-07</div><div class="title">Set up Syzkaller (记录安装过程)</div></div></a></div><div><a href="/2023/12/11/syzkaller_lab1/" title="Syzkaller实验报告（Crash Demo）"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-12-11</div><div class="title">Syzkaller实验报告（Crash Demo）</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="lv-container" data-id="city" data-uid="MTAyMC81OTMzNC8zNTc5Ng=="></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/images_config/index_img.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">xjelly</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">13</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Jellyfish0029" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:xjelly0029@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#TASK-1-Modify-a-Dummy-Read-Only-File"><span class="toc-number">1.</span> <span class="toc-text">TASK 1  Modify a Dummy Read-Only File</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-Create-a-Dummy-File"><span class="toc-number">1.1.</span> <span class="toc-text">2.1 Create a Dummy File</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-Set-Up-the-Memory-Mapping-Thread"><span class="toc-number">1.2.</span> <span class="toc-text">2.2 Set Up the Memory Mapping Thread</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-Set-Up-the-write-Thread"><span class="toc-number">1.3.</span> <span class="toc-text">2.3 Set Up the write Thread</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-The-madvise-Thread"><span class="toc-number">1.4.</span> <span class="toc-text">2.4 The madvise Thread</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-Launch-the-Attack"><span class="toc-number">1.5.</span> <span class="toc-text">2.5 Launch the Attack</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Task-2-Modify-the-Password-File-to-Gain-the-Root-Privilege"><span class="toc-number">2.</span> <span class="toc-text">Task 2: Modify the Password File to Gain the Root Privilege</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/26/des/" title="数据加密标准(DES)">数据加密标准(DES)</a><time datetime="2024-03-26T12:45:16.000Z" title="发表于 2024-03-26 20:45:16">2024-03-26</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/26/hash_auth/" title="散列函数与认证">散列函数与认证</a><time datetime="2024-03-26T12:34:55.000Z" title="发表于 2024-03-26 20:34:55">2024-03-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/03/22/hello/" title="Gaudeamus Igitur  国际学生歌"><img src="/img/rambling1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Gaudeamus Igitur  国际学生歌"/></a><div class="content"><a class="title" href="/2024/03/22/hello/" title="Gaudeamus Igitur  国际学生歌">Gaudeamus Igitur  国际学生歌</a><time datetime="2024-03-22T09:56:44.000Z" title="发表于 2024-03-22 17:56:44">2024-03-22</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/12/11/syzkaller_lab1/" title="Syzkaller实验报告（Crash Demo）">Syzkaller实验报告（Crash Demo）</a><time datetime="2023-12-11T11:01:11.000Z" title="发表于 2023-12-11 19:01:11">2023-12-11</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/12/07/setup_of_syzkaller/" title="Set up Syzkaller (记录安装过程)">Set up Syzkaller (记录安装过程)</a><time datetime="2023-12-07T01:53:24.000Z" title="发表于 2023-12-07 09:53:24">2023-12-07</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2023 - 2024 By xjelly</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex/dist/contrib/copy-tex.min.js"></script><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script><script>(()=>{
  const loadLivere = () => {
    if (typeof LivereTower === 'object') window.LivereTower.init()
    else {
      (function(d, s) {
          var j, e = d.getElementsByTagName(s)[0];
          if (typeof LivereTower === 'function') { return; }
          j = d.createElement(s);
          j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
          j.async = true;
          e.parentNode.insertBefore(j, e);
      })(document, 'script');
    }
  }

  if ('Livere' === 'Livere' || !false) {
    if (false) btf.loadComment(document.getElementById('lv-container'), loadLivere)
    else loadLivere()
  } else {
    window.loadOtherComment = loadLivere
  }
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>